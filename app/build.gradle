apply plugin: 'com.android.application'

apply plugin: 'kotlin-android'

apply plugin: 'kotlin-android-extensions'

apply plugin: 'kotlin-kapt'

android {
    compileSdkVersion androidCompileSdkVersion
    buildToolsVersion androidBuildToolsVersion
    defaultConfig {
        applicationId "com.szczecin.pointofinterest"
        minSdkVersion androidMinSdkVersion
        targetSdkVersion androidTargetSdkVersion
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"

    }
    compileOptions {
        sourceCompatibility 1.8
        targetCompatibility 1.8
    }

    signingConfigs {
        release {
            storeFile file("keys")
            storePassword project.findProperty('store_password')
            keyAlias project.findProperty('key_alias')
            keyPassword project.findProperty('key_password')
        }
    }

    buildTypes {
        release {
            signingConfig signingConfigs.release
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
            resValue "string", "google_maps_key",
                    (project.findProperty("GOOGLE_MAPS_RELEASE_API_KEY") ?: "")
            buildConfigField 'String', 'API_URL', "\"https://en.wikipedia.org/w/api.php?\""
        }
        debug {
            minifyEnabled false
            resValue "string", "google_maps_key",
                    (project.findProperty("GOOGLE_MAPS_DEBUG_API_KEY") ?: "")
            buildConfigField 'String', 'API_URL', "\"https://en.wikipedia.org/w/api.php?\""
        }
    }

    dataBinding {
        enabled = true
    }
}

dependencies {
    implementation project(':domain')
    implementation project(':data')
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation appDependencies.kotlin
    implementation appDependencies.appCompat
    implementation appDependencies.constraintLayout
    implementation appDependencies.material
    implementation appDependencies.lifecycleExtensions
    implementation appDependencies.rxKotlin
    implementation appDependencies.rxAndroid
    implementation appDependencies.androidKtx
    implementation appDependencies.fragmentKtx
    implementation appDependencies.googleMaps
    implementation appDependencies.googleMapsUtils
    implementation appDependencies.dagger
    implementation appDependencies.daggerAndroid
    implementation appDependencies.glide
    implementation appDependencies.livedataext

    kapt appDependencies.daggerCompiler
    kapt appDependencies.daggerAndroidProcessor
    kapt appDependencies.glideCompiler

    testImplementation testDependencies.jUnit
    testImplementation testDependencies.lifecycleTest
    testImplementation testDependencies.mockitoKotlin
}
